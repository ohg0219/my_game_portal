<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔢 2048 게임</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- 헤더 -->
        <div class="header">
            <div class="back-button">
                <a href="../../" class="back-link">🏠 게임 목록으로</a>
            </div>
            <h1>2048</h1>
            <p class="subtitle">타일을 합쳐서 2048을 만드세요!</p>
        </div>

        <!-- 게임 정보 -->
        <div class="game-info">
            <div class="score-container">
                <div class="score-box">
                    <div class="score-label">점수</div>
                    <div class="score-value" id="score">0</div>
                </div>
                <div class="score-box">
                    <div class="score-label">최고점수</div>
                    <div class="score-value" id="best-score">0</div>
                </div>
            </div>
            <div class="game-controls">
                <button class="btn" id="new-game-btn">새 게임</button>
                <button class="btn" id="undo-btn" disabled>실행취소</button>
            </div>
        </div>

        <!-- 게임 보드 -->
        <div class="game-container">
            <div class="grid-container">
                <div class="grid-row">
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                </div>
                <div class="grid-row">
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                </div>
                <div class="grid-row">
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                </div>
                <div class="grid-row">
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                </div>
            </div>
            <div class="tile-container" id="tile-container">
                <!-- 타일들이 동적으로 생성됩니다 -->
            </div>
        </div>

        <!-- 조작법 안내 -->
        <div class="instructions">
            <p><strong>조작법:</strong> 방향키나 WASD로 타일을 이동하세요</p>
            <div class="mobile-instructions">
                <p><strong>모바일:</strong> 스와이프해서 타일을 이동하세요</p>
            </div>
        </div>

        <!-- 모바일 컨트롤 -->
        <div class="mobile-controls">
            <div class="control-row">
                <button class="control-btn" data-direction="up">↑</button>
            </div>
            <div class="control-row">
                <button class="control-btn" data-direction="left">←</button>
                <button class="control-btn" data-direction="down">↓</button>
                <button class="control-btn" data-direction="right">→</button>
            </div>
        </div>
    </div>

    <!-- 게임 오버 팝업 -->
    <div class="game-over-overlay" id="game-over-overlay">
        <div class="game-over-popup">
            <h2 id="game-over-title">게임 오버!</h2>
            <p id="game-over-message">더 이상 움직일 수 없습니다.</p>
            <div class="final-score">
                <p>최종 점수: <span id="final-score">0</span></p>
                <p id="new-record" style="display: none;">🎉 새로운 최고 기록!</p>
            </div>
            <div class="game-over-buttons">
                <button class="btn primary" id="try-again-btn">다시 시도</button>
                <button class="btn" id="share-btn">점수 공유</button>
                <a href="../../" class="btn">게임 목록으로</a>
            </div>
        </div>
    </div>

    <!-- 승리 팝업 -->
    <div class="victory-overlay" id="victory-overlay">
        <div class="victory-popup">
            <h2>🎉 축하합니다!</h2>
            <p>2048을 달성했습니다!</p>
            <div class="victory-score">
                <p>달성 점수: <span id="victory-score">0</span></p>
            </div>
            <div class="victory-buttons">
                <button class="btn primary" id="keep-playing-btn">게임 계속하기</button>
                <button class="btn" id="new-game-victory-btn">새 게임</button>
                <a href="../../" class="btn">게임 목록으로</a>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>