<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>ğŸš€ íƒ„ë§‰ ìŠˆíŒ… ê²Œì„</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="../../" class="back-button">ğŸ  ê²Œì„ ëª©ë¡ìœ¼ë¡œ</a>
            <h1>íƒ„ë§‰ ìŠˆíŒ…</h1>
        </div>

        <div id="instructions">
            <h2>ê²Œì„ ë°©ë²•</h2>
            <p><strong>PC:</strong> WASD ë˜ëŠ” ë°©í–¥í‚¤ë¡œ ì´ë™, Spacebarë¡œ ë°œì‚¬</p>
            <p><strong>ëª¨ë°”ì¼:</strong> í™”ë©´ì˜ ë²„íŠ¼ì„ ì‚¬ìš©í•˜ì—¬ ì´ë™ ë° ë°œì‚¬</p>
            <button id="start-game-btn">ê²Œì„ ì‹œì‘</button>
        </div>

        <div class="game-container">
            <canvas id="game-canvas"></canvas>
        </div>

        <div class="mobile-controls">
            <div class="d-pad">
                <button class="control-btn" data-direction="w">â†‘</button>
                <button class="control-btn" data-direction="a">â†</button>
                <button class="control-btn" data-direction="s">â†“</button>
                <button class="control-btn" data-direction="d">â†’</button>
            </div>
            <div class="action-buttons">
                <button class="control-btn fire-btn" id="fire-btn">ğŸš€</button>
            </div>
        </div>
    </div>

    <script src="lib/utils.js"></script>
    <script src="lib/movingObject.js"></script>
    <script src="lib/bullet.js"></script>
    <script src="lib/enemyBullet.js"></script>
    <script src="lib/ship.js"></script>
    <script src="lib/enemyObject.js"></script>
    <script src="lib/enemy1.js"></script>
    <script src="lib/game.js"></script>
    <script src="gameView.js"></script>
    <script>
      window.onload = function () {
        const canvas = document.getElementById('game-canvas');
        const instructions = document.getElementById('instructions');
        const startBtn = document.getElementById('start-game-btn');
        const gameContainer = document.querySelector('.game-container');

        // Initially hide the game canvas
        gameContainer.style.display = 'none';

        startBtn.onclick = function() {
            instructions.style.display = 'none';
            gameContainer.style.display = 'block';

            // Set canvas size based on container
            const containerWidth = gameContainer.offsetWidth;
            canvas.width = Math.min(containerWidth, 800);
            canvas.height = canvas.width * 0.75; // 4:3 aspect ratio

            BHGame.Game.DIM_X = canvas.width;
            BHGame.Game.DIM_Y = canvas.height;

            const ctx = canvas.getContext('2d');
            const game = new BHGame.Game();
            new BHGame.GameView(game, ctx).start();
        };
      }
    </script>
</body>
</html>
